# Orca 0.7.0

Release focus: streaming rendering support for LLM/chat applications.

## Highlights

- **Streaming debounce**: new `streamingDebounceMs` parameter (default 80ms) in `Orca(markdown = ...)`. During fast token-by-token updates, intermediate values are batched â€” only the latest markdown is parsed after the debounce window. Set to `0` to disable.
- **Content-based stable keys**: `LazyColumn` block keys are now derived from block type and content digest. Unchanged blocks keep their keys when new blocks are appended during streaming, allowing `LazyColumn` to reuse existing compositions.
- **Streaming parser tests**: new test suite covering incremental token scenarios, partial code blocks, growing lists, and cache behavior during streaming.

## API Changes

### `Orca` composable

New optional parameter (backward compatible, default `80`):

```kotlin
Orca(
    markdown = markdown,
    parser = OrcaMarkdownParser(),
    streamingDebounceMs = 80, // milliseconds; 0 to disable
)
```

### Internal

- `produceState` replaced with `LaunchedEffect` + `delay` for debounce control.
- `buildRenderBlocks` now uses content-based keys instead of index-based.

## Migration from 0.6.5

No breaking changes. The default debounce of 80ms is transparent for non-streaming use cases. If you need immediate parsing on every change, set `streamingDebounceMs = 0`.

## Verification

```bash
./gradlew --no-daemon --build-cache :orca-core:jvmTest :orca-compose:testDebugUnitTest :sample-app:assembleDebug
```
