# Orca 0.5.0

Release focus: Compose Multiplatform migration.

## Highlights

- **Compose Multiplatform support**: `orca-compose` now targets Android, iOS, Desktop (JVM), and wasmJs from a single codebase.
- **`orca-core` is now Kotlin Multiplatform**: AST model and parser interface in `commonMain`, `CommonmarkOrcaParser` in `jvmMain`.
- **Image loading switched to Coil 3 + Ktor** for cross-platform networking (replaces OkHttp).
- **Package rename**: `ru.wertik.orca.compose.android` â†’ `ru.wertik.orca.compose`.
- **`parser` is now a required parameter** in the `Orca()` composable (no default, since `CommonmarkOrcaParser` is JVM-only).

## Breaking Changes

- Package changed from `ru.wertik.orca.compose.android` to `ru.wertik.orca.compose`.
- `Orca(markdown = ...)` now requires explicit `parser` parameter.
- Module renamed from `orca-compose-android` to `orca-compose`.

## Migration

```diff
- import ru.wertik.orca.compose.android.Orca
- import ru.wertik.orca.compose.android.OrcaStyle
+ import ru.wertik.orca.compose.Orca
+ import ru.wertik.orca.compose.OrcaStyle

  Orca(
      markdown = markdown,
+     parser = CommonmarkOrcaParser(),
  )
```

## Platform Support

| Platform | orca-core | orca-compose | Parser |
|---|---|---|---|
| Android | commonMain + jvmMain | full | `CommonmarkOrcaParser` |
| Desktop (JVM) | commonMain + jvmMain | full | `CommonmarkOrcaParser` |
| iOS | commonMain | full | bring your own |
| wasmJs (Web) | commonMain | full | bring your own |

## Maven Coordinates

- `ru.wertik:orca-core:0.5.0`
- `ru.wertik:orca-compose:0.5.0`

## Verification

```bash
./gradlew --no-daemon --build-cache :orca-core:jvmTest :orca-compose:testDebugUnitTest :sample-app:assembleDebug
```
