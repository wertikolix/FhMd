# Orca 0.1.0-alpha05 (draft)

Release focus: image support (Android via Coil 3) and thematic breaks.

## Highlights

- Added image support in parser + Compose renderer.
- Added thematic break block (`---`) support.
- Preserved ordered list start numbers (e.g. `5. item` renders from `5`).
- Added Coil 3 integration in `orca-compose-android`:
  - `coil-compose`
  - `coil-network-okhttp` (for remote URLs)
- Added URL safety filters in renderer:
  - links: `http`, `https`, `mailto`
  - images: `http`, `https` (unsafe schemes fallback to text)
- Migrated packages/namespaces to `ru.wertik.orca.*`.
- Added sample updates:
  - image demo section
  - thematic break demo
  - `INTERNET` permission for remote image loading
- Added parser/renderer tests for image mapping and thematic breaks.

## Supported

- Parser backend: `commonmark-java` (`0.27.1`)
- Extensions: GFM pipe tables (`commonmark-ext-gfm-tables`)
- Public parser API:
  - `interface OrcaParser { fun parse(input: String): OrcaDocument }`
- Blocks:
  - heading
  - paragraph
  - bullet list / ordered list (with ordered start number)
  - quote
  - fenced code block / indented code block
  - image (standalone markdown image line)
  - thematic break (`---`)
  - table
- Inlines:
  - text
  - bold
  - italic
  - inline code
  - link
  - image AST (inside text flow rendered as fallback text)
  - soft/hard line breaks
- Compose renderer:
  - `Orca(markdown = ...)`
  - `Orca(document = ...)`
  - `onLinkClick` callback
  - image rendering via Coil 3
  - baseline styling via `OrcaStyle`

## Not Supported Yet

- HTML blocks/inline HTML
- strikethrough
- task lists
- footnotes/front matter/extensions
- non-Android targets (multiplatform-ready architecture only)

## Verification

```bash
./gradlew --no-daemon --build-cache :orca-core:test :orca-compose-android:testDebugUnitTest :sample-app:assembleDebug :sample-app:assembleRelease
```
